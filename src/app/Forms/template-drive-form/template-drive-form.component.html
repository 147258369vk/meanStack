<mat-card>
  <h1>Template Driven Form</h1>

  <form #userform="ngForm"  name="form" (ngSubmit)="userform.form.valid && getValues(userform)" novalidate>

    <mat-form-field>

      <mat-select
      placeholder="Title"
      name="title"
      #title="ngModel"
      [(ngModel)]="users.title"
      [ngClass]="{'is-invalid':userform.submitted && title.invalid}"
      required>
        <mat-option value=""></mat-option>
        <mat-option value="Mr">Mr</mat-option>
        <mat-option value="Ms">Ms</mat-option>
        <mat-option value="Mrs">Mrs</mat-option>
    </mat-select>
    </mat-form-field>

    <mat-error *ngIf="userform.submitted && title.invalid">
      <mat-error *ngIf="title.errors?.required">
        Title is required
      </mat-error>

    </mat-error>

    <mat-form-field>
      <input type="text"
      matInput
      name="username"
      placeholder="Your Name"
      [(ngModel)]="users.username"
      #username="ngModel"
      required
      [ngClass]="{'is-invalid':userform.submitted && username.invalid}"
      >
    </mat-form-field>

    <mat-error *ngIf="userform.submitted && username.invalid">
      <mat-error *ngIf="username.errors?.required">
        Name is required
      </mat-error>

    </mat-error>
    <br>

    <mat-form-field>
      <input type="text"
      matInput
      name="email"
      placeholder="Your Email"
      [(ngModel)]="users.email"
      #email="ngModel"
      required
      email
      [ngClass]="{'is-invalid':userform.submitted && email.invalid}">
    </mat-form-field>

    <mat-error *ngIf="userform.submitted && email.invalid">

      <mat-error *ngIf="email.hasError('required')">
        Email is required
      </mat-error>

      <mat-error *ngIf="email.hasError('email')">
        Should be in proper email format
      </mat-error>

    </mat-error>



    <br>
    <mat-form-field>
      <input type="password"
      matInput name="password"
      placeholder="Your Password"
      [(ngModel)]="users.password"
      #password="ngModel"
      required
      minlength="6"
      [ngClass]="{'is-invalid':userform.submitted && password.invalid}">
      </mat-form-field>

      <mat-error *ngIf="userform.submitted && password.invalid">
        <mat-error *ngIf="password.hasError('required')">
          Password is required
        </mat-error>

        <mat-error *ngIf="password.hasError('minlength')">
          Password should be greater than 6 Characters
        </mat-error>

      </mat-error>



      <br>
      <mat-form-field>
        <input type="password"
        matInput name="cpassword"
        placeholder="confirm Password"
        [(ngModel)]="users.cpassword"
        required
        #cpassword="ngModel"
        pattern={{password.value}}
        [ngClass]="{'is-invalid':userform.submitted && cpassword.invalid}">
      </mat-form-field>

      <mat-error *ngIf="userform.submitted && cpassword.invalid">
        <mat-error *ngIf="cpassword.hasError('required')">
          Confirm password is required
        </mat-error>

        <mat-error *ngIf="cpassword.hasError('pattern')">
          Password must match
        </mat-error>
      </mat-error>


      <br>
      <mat-checkbox
      name="terms"
      [(ngModel)]="users.terms"
      #terms="ngModel"
      required
      [ngClass]="{'is-invalid':userform.submitted && terms.invalid}">
        Accept Terms and Conditions
      </mat-checkbox>

      <mat-error *ngIf="userform.submitted && terms.invalid">
        <mat-error *ngIf="terms.hasError('required')">
          Please check the terms and conditions checkbox
        </mat-error>
      </mat-error>
      <br>

      <button type="submit" mat-raised-button color="accent">Submit</button>
  </form>

</mat-card>
